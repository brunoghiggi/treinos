<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seus Treinos</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
            /* Adicionado padding-bottom para evitar que o conte√∫do fique atr√°s da barra de progresso fixa e do bot√£o de voltar */
            padding-bottom: 120px; /* Ajuste conforme a altura da barra de progresso e do bot√£o */
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }

        /* Homepage styles */
        #homepage {
            display: block; /* Inicialmente vis√≠vel */
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .treino-link {
            padding: 15px 20px;
            margin-bottom: 10px;
            background-color: #e0f7fa;
            border: 1px solid #b2ebf2;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            color: #00796b;
            text-align: center;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .treino-link:hover {
            background-color: #b2ebf2;
            transform: translateY(-2px);
        }

        .treino-link:active {
            transform: translateY(0);
        }

        /* Detail view styles */
        .treino-detail-view {
            display: none; /* Inicialmente oculto */
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            position: relative; /* Necess√°rio para z-index da barra de progresso */
        }

        .treino-detail-view h2 {
            color: #555;
            margin-top: 0;
            margin-bottom: 15px;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        .timer-display {
            text-align: center;
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 20px;
            color: #00796b;
        }

        .exercicio {
            display: flex;
            flex-direction: column; /* Organiza em coluna em todos os tamanhos */
            padding: 10px 0; /* Menos padding para mais exerc√≠cios na tela */
            border-bottom: 1px solid #eee;
            cursor: pointer; /* Indica que o exerc√≠cio √© clic√°vel */
            transition: background-color 0.2s ease;
        }

        .exercicio:hover {
            background-color: #f0f0f0; /* Feedback visual ao passar o mouse */
        }

        .exercicio:last-child {
            border-bottom: none;
        }

        .exercicio-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            margin-bottom: 3px; /* Adjusted margin */
            flex-wrap: wrap;
        }

        .exercicio-info {
            flex-grow: 1;
            font-size: 15px; /* Slightly smaller font */
            color: #444;
            margin-right: 8px; /* Slightly less margin */
        }

        .exercicio-peso {
            font-weight: bold;
            color: #666;
            margin-right: 15px; /* Slightly less margin */
            white-space: nowrap; /* Evita quebra de linha no peso */
        }

        .exercicio-series-reps {
            font-size: 13px; /* Slightly smaller font */
            color: #777;
            white-space: nowrap;
        }

        /* Main Exercise Checkbox */
        .checkbox-container.main-exercise-checkbox {
            display: flex;
            align-items: center;
            margin-top: 10px; /* Reduced margin */
            padding-top: 8px; /* Reduced padding */
            border-top: 1px solid #ddd;
            width: 100%;
            justify-content: flex-end; /* ALINHA SEMPRE √Ä DIREITA */
        }

        .checkbox-container.main-exercise-checkbox input[type="checkbox"] {
            transform: scale(1.2); /* Slightly smaller checkbox */
            margin-right: 8px;
        }

        .checkbox-container.main-exercise-checkbox label {
            font-weight: bold;
            color: #00796b;
            font-size: 15px; /* Consistent with exercicio-info */
        }

        /* Progress Bar and Back Button Container (Fixed at bottom) */
        .fixed-bottom-bar {
            position: fixed; /* Fixa a barra na tela */
            bottom: 0; /* Alinha na parte inferior */
            left: 0; /* Alinha √† esquerda */
            width: 100%; /* Ocupa toda a largura */
            background-color: #f8f8f8; /* Fundo para a barra fixa */
            padding: 15px 20px; /* Padding interno */
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1); /* Sombra para destac√°-lo */
            z-index: 998; /* Garante que fique acima do conte√∫do, mas abaixo dos popups */
            box-sizing: border-box; /* Inclui padding e border no width/height */
            display: flex;
            flex-direction: column;
            align-items: center; /* Centraliza horizontalmente o conte√∫do */
        }

        .progress-bar-inner { /* Cont√™iner para a barra de progresso real */
            width: 100%;
            text-align: center;
            margin-bottom: 10px; /* Espa√ßo entre a barra e o bot√£o */
        }

        .progress-bar {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 5px;
            height: 20px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            height: 100%;
            width: 0%; /* Initial width */
            background-color: #00796b;
            border-radius: 5px;
            transition: width 0.5s ease-in-out;
        }

        .progress-text {
            font-weight: bold;
            color: #555;
            margin-bottom: 5px;
            font-size: 15px;
        }

        .back-button {
            background-color: #00796b;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
            width: fit-content; /* Ajusta ao conte√∫do */
            margin-top: 10px; /* Espa√ßo acima do bot√£o */
        }

        .back-button:hover {
            background-color: #004d40;
        }

        /* Popup Styles (for exercise details) */
        .exercise-popup-overlay {
            display: none; /* Hidden by default */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            z-index: 999; /* Below workout complete popup */
            justify-content: center;
            align-items: center;
        }

        .exercise-popup-content {
            background: #fff;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 90%;
            width: 400px;
            transform: scale(0.9);
            animation: popin 0.3s forwards;
            position: relative;
        }

        .exercise-popup-content h3 {
            color: #00796b;
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.5em;
        }

        .exercise-popup-content p {
            font-size: 1em;
            color: #555;
            margin-bottom: 10px;
        }

        .exercise-popup-image {
            width: 100%;
            max-height: 250px;
            object-fit: contain; /* Ensures entire image is visible */
            border-radius: 8px;
            margin-top: 15px;
            margin-bottom: 15px;
        }

        .exercise-popup-dica {
            font-size: 0.9em;
            color: #777;
            margin-top: 10px;
            margin-bottom: 20px;
            border-top: 1px dashed #eee;
            padding-top: 10px;
        }

        .exercise-popup-close-button {
            background-color: #00796b;
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.3s ease;
        }
        .exercise-popup-close-button:hover {
            background-color: #004d40;
        }

        /* Workout Complete Popup Styles */
        .workout-complete-popup-overlay { /* Renamed for clarity */
            display: none; /* Hidden by default */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .workout-complete-popup-content { /* Renamed for clarity */
            background: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 90%;
            width: 350px;
            transform: scale(0.9);
            animation: popin 0.3s forwards;
            position: relative;
        }

        @keyframes popin {
            to { transform: scale(1); }
        }

        .workout-complete-popup-content h3 {
            color: #00796b;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.8em;
        }

        .workout-complete-popup-content p {
            font-size: 1.2em;
            color: #555;
            margin-bottom: 25px;
        }

        .workout-complete-popup-close-button {
            background-color: #00796b;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s ease;
        }

        .workout-complete-popup-close-button:hover {
            background-color: #004d40;
        }

        /* Responsive styles */
        @media (max-width: 480px) {
            body {
                padding: 10px;
                padding-bottom: 120px; /* Ajustado para mobile tamb√©m */
            }

            h1 {
                font-size: 22px;
            }

            #homepage, .treino-detail-view {
                padding: 10px;
            }

            .treino-link {
                font-size: 15px;
                padding: 10px 12px;
            }

            .exercicio {
                padding: 8px 0;
            }

            .exercicio-info {
                font-size: 14px;
            }
            .exercicio-peso, .exercicio-series-reps {
                font-size: 12px;
            }

            .checkbox-container.main-exercise-checkbox {
                justify-content: flex-start; /* Mant√©m alinhamento √† esquerda em telas menores para melhor UX */
                margin-top: 8px;
                padding-top: 5px;
            }
            .checkbox-container.main-exercise-checkbox input[type="checkbox"] {
                transform: scale(1.1);
            }
            .checkbox-container.main-exercise-checkbox label {
                font-size: 14px;
            }

            .fixed-bottom-bar {
                padding: 10px; /* Menos padding em telas pequenas */
            }
            .progress-bar-inner {
                margin-bottom: 5px; /* Menos espa√ßo */
            }
            .progress-text {
                font-size: 14px;
            }

            .back-button {
                padding: 8px 12px;
                font-size: 14px;
                margin-top: 8px;
            }

            .exercise-popup-content {
                padding: 20px;
            }
            .exercise-popup-content h3 {
                font-size: 1.3em;
            }
            .exercise-popup-content p {
                font-size: 0.9em;
            }
            .exercise-popup-image {
                max-height: 120px;
            }
            .exercise-popup-dica {
                font-size: 0.8em;
            }
            .exercise-popup-close-button {
                padding: 6px 12px;
                font-size: 0.8em;
            }

            .workout-complete-popup-content {
                padding: 20px;
            }
            .workout-complete-popup-content h3 {
                font-size: 1.5em;
            }
            .workout-complete-popup-content p {
                font-size: 1em;
            }
            .workout-complete-popup-close-button {
                padding: 8px 15px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <div id="homepage">
        <h1>Seus Treinos</h1>
        <div class="treino-link" data-treino-id="treinoA_details">üí™ Treino A - Peito + Tr√≠ceps</div>
        <div class="treino-link" data-treino-id="treinoB_details">üèãÔ∏è‚Äç‚ôÇÔ∏è Treino B - Costas + B√≠ceps</div>
        <div class="treino-link" data-treino-id="treinoC_details">üß± Treino C - Ombros + Core</div>
        <div class="treino-link" data-treino-id="treinoPernas_details">ü¶µ Treino D - Pernas + Panturrilha</div>
    </div>

    <!-- Treino A Details -->
    <div id="treinoA_details" class="treino-detail-view">
        <h2>üí™ Treino A - Peito + Tr√≠ceps</h2>
        <div class="timer-display">00:00</div>
        <div class="exercicio" data-exercise-id="supino_reto"
             data-exercise-name="Supino Reto M√°quina"
             data-exercise-peso="20"
             data-exercise-series-reps="4x10-12"
             data-exercise-dica="Mantenha esc√°pulas fixas e controle o movimento."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Supino Reto M√°quina</span>
                <span class="exercicio-peso">Peso: 20</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x10-12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="supino_reto_done">
                <label for="supino_reto_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="supino_inclinado"
             data-exercise-name="Supino Inclinado M√°quina"
             data-exercise-peso="20"
             data-exercise-series-reps="4x12"
             data-exercise-dica="Cotovelos levemente para dentro para proteger o peito."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Supino Inclinado M√°quina</span>
                <span class="exercicio-peso">Peso: 20</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="supino_inclinado_done">
                <label for="supino_inclinado_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="voador"
             data-exercise-name="Voador (Peck Deck)"
             data-exercise-peso="30"
             data-exercise-series-reps="4x12"
             data-exercise-dica="Contraia o peito no fechamento, evite balan√ßo."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Voador (Peck Deck)</span>
                <span class="exercicio-peso">Peso: 30</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="voador_done">
                <label for="voador_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="triceps_corda"
             data-exercise-name="Tr√≠ceps Corda"
             data-exercise-peso="35"
             data-exercise-series-reps="3x15"
             data-exercise-dica="Abra a corda no final para ativar a lateral do tr√≠ceps."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Tr√≠ceps Corda</span>
                <span class="exercicio-peso">Peso: 35</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 3x15</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="triceps_corda_done">
                <label for="triceps_corda_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="triceps_barra"
             data-exercise-name="Tr√≠ceps Barra (ou Testa)"
             data-exercise-peso="28"
             data-exercise-series-reps="3x12"
             data-exercise-dica="Evite abrir muito os cotovelos. Movimento controlado."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Tr√≠ceps Barra (ou Testa)</span>
                <span class="exercicio-peso">Peso: 28</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 3x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="triceps_barra_done">
                <label for="triceps_barra_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="abdominal_obliquo"
             data-exercise-name="Abdominal Obl√≠quo"
             data-exercise-peso="N/A"
             data-exercise-series-reps="3x20"
             data-exercise-dica="Foco na contra√ß√£o e controle na volta."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Abdominal Obl√≠quo</span>
                <span class="exercicio-peso">Peso: N/A</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 3x20</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="abdominal_obliquo_done">
                <label for="abdominal_obliquo_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="triceps_unilateral"
             data-exercise-name="Opcional: Triceps Unilateral"
             data-exercise-peso="N/A"
             data-exercise-series-reps="3x15"
             data-exercise-dica="Com halter em cima da cabe√ßa."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Opcional: Triceps Unilateral</span>
                <span class="exercicio-peso">Peso: N/A</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 3x15</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="triceps_unilateral_done">
                <label for="triceps_unilateral_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="crucifixo"
             data-exercise-name="Opcional: Crucifixo reto ou inclinado halter"
             data-exercise-peso="N/A"
             data-exercise-series-reps="3x15"
             data-exercise-dica="N√£o especificada."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Opcional: Crucifixo reto ou inclinado halter</span>
                <span class="exercicio-peso">Peso: N/A</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 3x15</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="crucifixo_done">
                <label for="crucifixo_done">Feito</label>
            </div>
        </div>
        <!-- This div now holds the progress bar and back button, and is made fixed -->
        <div class="fixed-bottom-bar" id="treinoA_fixed_bar">
            <div class="progress-bar-inner">
                <div class="progress-text">0 de 8 exerc√≠cios feitos</div>
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
            </div>
            <button class="back-button">Voltar</button>
        </div>
    </div>

    <!-- Treino B Details -->
    <div id="treinoB_details" class="treino-detail-view">
        <h2>üèãÔ∏è‚Äç‚ôÇÔ∏è Treino B - Costas + B√≠ceps</h2>
        <div class="timer-display">00:00</div>
        <div class="exercicio" data-exercise-id="puxada_alta"
             data-exercise-name="Puxada Alta (frente)"
             data-exercise-peso="9"
             data-exercise-series-reps="4x12"
             data-exercise-dica="N√£o jogue o corpo para tr√°s. Des√ßa at√© o queixo."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Puxada Alta (frente)</span>
                <span class="exercicio-peso">Peso: 9</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="puxada_alta_done">
                <label for="puxada_alta_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="remada_baixa"
             data-exercise-name="Remada Baixa Tri√¢ngulo"
             data-exercise-peso="7"
             data-exercise-series-reps="4x12"
             data-exercise-dica="Contraia as esc√°pulas no final da puxada."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Remada Baixa Tri√¢ngulo</span>
                <span class="exercicio-peso">Peso: 7</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="remada_baixa_done">
                <label for="remada_baixa_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="puxada_articulada"
             data-exercise-name="Puxada Alta Articulada"
             data-exercise-peso="20"
             data-exercise-series-reps="4x12"
             data-exercise-dica="N√£o especificada."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Puxada Alta Articulada</span>
                <span class="exercicio-peso">Peso: 20</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="puxada_articulada_done">
                <label for="puxada_articulada_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="remada_articulada"
             data-exercise-name="Remada Articulada"
             data-exercise-peso="15-20"
             data-exercise-series-reps="4x12"
             data-exercise-dica="Cotovelos alinhados ao tronco. Segure um segundo."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Remada Articulada</span>
                <span class="exercicio-peso">Peso: 15-20</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="remada_articulada_done">
                <label for="remada_articulada_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="rosca_martelo"
             data-exercise-name="Rosca Martelo com Corda"
             data-exercise-peso="30-35"
             data-exercise-series-reps="3x12"
             data-exercise-dica="Cotovelos fixos. N√£o balance o corpo."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Rosca Martelo com Corda</span>
                <span class="exercicio-peso">Peso: 30-35</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 3x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="rosca_martelo_done">
                <label for="rosca_martelo_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="rosca_scott"
             data-exercise-name="Rosca Scott M√°quina"
             data-exercise-peso="25"
             data-exercise-series-reps="3x12"
             data-exercise-dica="Movimento controlado, sem estender totalmente."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Rosca Scott M√°quina</span>
                <span class="exercicio-peso">Peso: 25</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 3x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="rosca_scott_done">
                <label for="rosca_scott_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="abdominal_supra"
             data-exercise-name="Abdominal Supra"
             data-exercise-peso="N/A"
             data-exercise-series-reps="3x20"
             data-exercise-dica="Mantenha o queixo afastado do peito. Foco no abd√¥men."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Abdominal Supra</span>
                <span class="exercicio-peso">Peso: N/A</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 3x20</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="abdominal_supra_done">
                <label for="abdominal_supra_done">Feito</label>
            </div>
        </div>
        <!-- This div now holds the progress bar and back button, and is made fixed -->
        <div class="fixed-bottom-bar" id="treinoB_fixed_bar">
            <div class="progress-bar-inner">
                <div class="progress-text">0 de 7 exerc√≠cios feitos</div>
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
            </div>
            <button class="back-button">Voltar</button>
        </div>
    </div>

    <!-- Treino C Details -->
    <div id="treinoC_details" class="treino-detail-view">
        <h2>üß± Treino C - Ombros + Core</h2>
        <div class="timer-display">00:00</div>
        <div class="exercicio" data-exercise-id="elevacao_lateral"
             data-exercise-name="Eleva√ß√£o Lateral com Halteres"
             data-exercise-peso="N/A"
             data-exercise-series-reps="4x12"
             data-exercise-dica="Bra√ßos levemente dobrados, suba at√© a linha dos ombros."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Eleva√ß√£o Lateral com Halteres</span>
                <span class="exercicio-peso">Peso: N/A</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="elevacao_lateral_done">
                <label for="elevacao_lateral_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="desenvolvimento_maquina"
             data-exercise-name="Desenvolvimento M√°quina"
             data-exercise-peso="35"
             data-exercise-series-reps="4x12"
             data-exercise-dica="N√£o estenda totalmente os cotovelos no topo."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Desenvolvimento M√°quina</span>
                <span class="exercicio-peso">Peso: 35</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="desenvolvimento_maquina_done">
                <label for="desenvolvimento_maquina_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="elevacao_frontal"
             data-exercise-name="Eleva√ß√£o Frontal com Corda ou Halteres"
             data-exercise-peso="6"
             data-exercise-series-reps="3x12"
             data-exercise-dica="Suba at√© a altura dos ombros, sem impulso."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Eleva√ß√£o Frontal com Corda ou Halteres</span>
                <span class="exercicio-peso">Peso: 6</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 3x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="elevacao_frontal_done">
                <label for="elevacao_frontal_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="encolhimento"
             data-exercise-name="Encolhimento (Shrug) com Halteres"
             data-exercise-peso="16"
             data-exercise-series-reps="3x15"
             data-exercise-dica="Contraia o trap√©zio no topo, sem girar os ombros."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Encolhimento (Shrug) com Halteres</span>
                <span class="exercicio-peso">Peso: 16</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 3x15</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="encolhimento_done">
                <label for="encolhimento_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="abdominal_infra"
             data-exercise-name="Abdominal Infra (solo ou barra)"
             data-exercise-peso="N/A"
             data-exercise-series-reps="3x20"
             data-exercise-dica="Use o quadril para levantar, sem embalo."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Abdominal Infra (solo ou barra)</span>
                <span class="exercicio-peso">Peso: N/A</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 3x20</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="abdominal_infra_done">
                <label for="abdominal_infra_done">Feito</label>
            </div>
        </div>
        <!-- This div now holds the progress bar and back button, and is made fixed -->
        <div class="fixed-bottom-bar" id="treinoC_fixed_bar">
            <div class="progress-bar-inner">
                <div class="progress-text">0 de 5 exerc√≠cios feitos</div>
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
            </div>
            <button class="back-button">Voltar</button>
        </div>
    </div>

    <!-- Treino Pernas Details (Adjusted to Treino D to avoid confusion with Treino A) -->
    <div id="treinoPernas_details" class="treino-detail-view">
        <h2>ü¶µ Treino D - Pernas + Panturrilha</h2>
        <div class="timer-display">00:00</div>
        <div class="exercicio" data-exercise-id="agachamento_hack"
             data-exercise-name="Agachamento Hack Sentado"
             data-exercise-peso="35 cada lado"
             data-exercise-series-reps="4x12"
             data-exercise-dica="P√©s um pouco √† frente, des√ßa at√© 90¬∞ no joelho."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Agachamento Hack Sentado</span>
                <span class="exercicio-peso">Peso: 35 cada lado</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="agachamento_hack_done">
                <label for="agachamento_hack_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="leg_press"
             data-exercise-name="Leg Press Articulado"
             data-exercise-peso="40+ cada lado"
             data-exercise-series-reps="4x12"
             data-exercise-dica="N√£o trave os joelhos, mantenha abd√¥men firme."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Leg Press Articulado</span>
                <span class="exercicio-peso">Peso: 40+ cada lado</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="leg_press_done">
                <label for="leg_press_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="mesa_flexora"
             data-exercise-name="Mesa Flexora"
             data-exercise-peso="15"
             data-exercise-series-reps="4x12"
             data-exercise-dica="Segure 1-2 segundos contraindo atr√°s."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Mesa Flexora</span>
                <span class="exercicio-peso">Peso: 15</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="mesa_flexora_done">
                <label for="mesa_flexora_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="cadeira_extensora"
             data-exercise-name="Cadeira Extensora"
             data-exercise-peso="35"
             data-exercise-series-reps="4x12"
             data-exercise-dica="Suba r√°pido e des√ßa devagar (fase exc√™ntrica)."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Cadeira Extensora</span>
                <span class="exercicio-peso">Peso: 35</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x12</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="cadeira_extensora_done">
                <label for="cadeira_extensora_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="banco_adutor"
             data-exercise-name="Banco Adutor ou Abdutor (alternar)"
             data-exercise-peso="40"
             data-exercise-series-reps="3x15"
             data-exercise-dica="Concentre-se na contra√ß√£o."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Banco Adutor ou Abdutor (alternar)</span>
                <span class="exercicio-peso">Peso: 40</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 3x15</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="banco_adutor_done">
                <label for="banco_adutor_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="panturrilha"
             data-exercise-name="Panturrilha em P√© na M√°quina"
             data-exercise-peso="80"
             data-exercise-series-reps="4x15-20"
             data-exercise-dica="Pausa no topo, des√ßa devagar."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Panturrilha em P√© na M√°quina</span>
                <span class="exercicio-peso">Peso: 80</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x15-20</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="panturrilha_done">
                <label for="panturrilha_done">Feito</label>
            </div>
        </div>
        <div class="exercicio" data-exercise-id="agachamento_smith"
             data-exercise-name="Agachamento Smith (opcional)"
             data-exercise-peso="N/A"
             data-exercise-series-reps="4x10"
             data-exercise-dica="N√£o especificada."
             data-exercise-image="https://treinomestre.com.br/wp-content/uploads/2016/10/supino-inclinado-como-fazer-musculos-780x470.jpg">
            <div class="exercicio-header">
                <span class="exercicio-info">Agachamento Smith (opcional)</span>
                <span class="exercicio-peso">Peso: N/A</span>
                <span class="exercicio-series-reps">S√©ries x Reps: 4x10</span>
            </div>
            <div class="checkbox-container main-exercise-checkbox">
                <input type="checkbox" id="agachamento_smith_done">
                <label for="agachamento_smith_done">Feito</label>
            </div>
        </div>
        <!-- This div now holds the progress bar and back button, and is made fixed -->
        <div class="fixed-bottom-bar" id="treinoPernas_fixed_bar">
            <div class="progress-bar-inner">
                <div class="progress-text">0 de 7 exerc√≠cios feitos</div>
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
            </div>
            <button class="back-button">Voltar</button>
        </div>
    </div>

    <!-- Popup for exercise details -->
    <div id="exerciseDetailPopup" class="exercise-popup-overlay">
        <div class="exercise-popup-content">
            <h3 id="popupExerciseName"></h3>
            <p><strong>Peso:</strong> <span id="popupExercisePeso"></span></p>
            <p><strong>S√©ries x Reps:</strong> <span id="popupExerciseSeriesReps"></span></p>
            <img id="popupExerciseImage" src="" alt="Imagem do Exerc√≠cio" class="exercise-popup-image" onerror="this.onerror=null;this.src='https://placehold.co/780x470/cccccc/000000?text=Imagem+indispon%C3%ADvel';">
            <p class="exercise-popup-dica"><strong>Dica de Execu√ß√£o:</strong> <span id="popupExerciseDica"></span></p>
            <button class="exercise-popup-close-button">Fechar</button>
        </div>
    </div>

    <!-- Popup for workout completion -->
    <div id="workoutCompletePopup" class="workout-complete-popup-overlay">
        <div class="workout-complete-popup-content">
            <h3>Treino Conclu√≠do!</h3>
            <p>Parab√©ns! Voc√™ completou seu treino em <span id="totalWorkoutTime"></span>.</p>
            <button class="workout-complete-popup-close-button">Fechar</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const homepage = document.getElementById('homepage');
            const treinoLinks = document.querySelectorAll('.treino-link');
            const detailViews = document.querySelectorAll('.treino-detail-view');
            // Select all back buttons
            const backButtons = document.querySelectorAll('.back-button');

            const exerciseDetailPopup = document.getElementById('exerciseDetailPopup');
            const popupExerciseName = document.getElementById('popupExerciseName');
            const popupExercisePeso = document.getElementById('popupExercisePeso');
            const popupExerciseSeriesReps = document.getElementById('popupExerciseSeriesReps');
            const popupExerciseDica = document.getElementById('popupExerciseDica');
            const popupExerciseImage = document.getElementById('popupExerciseImage');
            const exercisePopupCloseButton = exerciseDetailPopup.querySelector('.exercise-popup-close-button');

            const workoutCompletePopup = document.getElementById('workoutCompletePopup');
            const workoutCompletePopupCloseButton = workoutCompletePopup.querySelector('.workout-complete-popup-close-button');
            const totalWorkoutTimeSpan = workoutCompletePopup.querySelector('#totalWorkoutTime');

            let currentWorkoutTimer = {
                startTime: null,
                intervalId: null,
                elapsedTime: 0,
                displayElement: null
            };

            // Function to format time for display
            function formatTime(seconds) {
                const minutes = Math.floor(seconds / 60);
                const remainingSeconds = seconds % 60;
                const formattedMinutes = String(minutes).padStart(2, '0');
                const formattedSeconds = String(remainingSeconds).padStart(2, '0');
                return `${formattedMinutes}:${formattedSeconds}`;
            }

            // Function to start the timer for the current workout
            function startTimer(timerDisplayElement) {
                // Clear any existing timer
                if (currentWorkoutTimer.intervalId) {
                    clearInterval(currentWorkoutTimer.intervalId);
                }
                currentWorkoutTimer.startTime = Date.now();
                currentWorkoutTimer.elapsedTime = 0;
                currentWorkoutTimer.displayElement = timerDisplayElement;

                currentWorkoutTimer.intervalId = setInterval(() => {
                    const now = Date.now();
                    currentWorkoutTimer.elapsedTime = Math.floor((now - currentWorkoutTimer.startTime) / 1000);
                    if (currentWorkoutTimer.displayElement) {
                        currentWorkoutTimer.displayElement.textContent = formatTime(currentWorkoutTimer.elapsedTime);
                    }
                }, 1000);
            }

            // Function to stop the timer
            function stopTimer() {
                if (currentWorkoutTimer.intervalId) {
                    clearInterval(currentWorkoutTimer.intervalId);
                    currentWorkoutTimer.intervalId = null;
                }
            }

            // Function to show a specific view and hide others
            function showView(viewId) {
                homepage.style.display = 'none';
                detailViews.forEach(view => {
                    view.style.display = 'none';
                    // Hide fixed bar for other views
                    const fixedBar = view.querySelector('.fixed-bottom-bar');
                    if (fixedBar) fixedBar.style.display = 'none';
                    stopTimer(); // Stop timer of previously active view if any
                });
                const activeView = document.getElementById(viewId);
                activeView.style.display = 'block';

                // Show fixed bar for active view
                const activeFixedBar = activeView.querySelector('.fixed-bottom-bar');
                if (activeFixedBar) activeFixedBar.style.display = 'flex'; // Changed to flex for column layout

                // Start timer for the newly active view
                const timerDisplay = activeView.querySelector('.timer-display');
                if (timerDisplay) {
                    startTimer(timerDisplay);
                }

                // Update progress bar when a detail view is shown
                updateProgressBar(activeView);
            }

            // Function to update the progress bar for a given training view
            function updateProgressBar(treinoViewElement) {
                const exercises = treinoViewElement.querySelectorAll('.exercicio');
                let completedExercises = 0;
                const totalExercises = exercises.length;

                exercises.forEach(exercise => {
                    const mainCheckbox = exercise.querySelector('.main-exercise-checkbox input[type="checkbox"]');
                    if (mainCheckbox && mainCheckbox.checked) {
                        completedExercises++;
                    }
                });

                const progressText = treinoViewElement.querySelector('.progress-text');
                const progressFill = treinoViewElement.querySelector('.progress-fill');

                if (progressText && progressFill) {
                    progressText.textContent = `${completedExercises} de ${totalExercises} exerc√≠cios feitos`;
                    const percentage = totalExercises === 0 ? 0 : (completedExercises / totalExercises) * 100;
                    progressFill.style.width = `${percentage}%`;

                    // Check if all exercises are completed
                    if (completedExercises === totalExercises && totalExercises > 0) {
                        stopTimer(); // Stop the timer when workout is complete
                        totalWorkoutTimeSpan.textContent = formatTime(currentWorkoutTimer.elapsedTime);
                        workoutCompletePopup.style.display = 'flex'; // Show the workout completion popup
                    }
                }
            }

            // Event listeners for training links on homepage
            treinoLinks.forEach(link => {
                link.addEventListener('click', () => {
                    showView(link.dataset.treinoId);
                });
            });

            // Event listeners for back buttons (now inside fixed-bottom-bar)
            backButtons.forEach(button => {
                button.addEventListener('click', () => {
                    stopTimer(); // Stop timer when going back to homepage
                    homepage.style.display = 'block';
                    detailViews.forEach(view => {
                        view.style.display = 'none';
                        const fixedBar = view.querySelector('.fixed-bottom-bar');
                        if (fixedBar) fixedBar.style.display = 'none'; // Ensure fixed bars are hidden
                    });
                });
            });

            // Add event listeners to each main exercise checkbox
            detailViews.forEach(view => {
                const exercises = view.querySelectorAll('.exercicio');
                exercises.forEach(exercise => {
                    const mainCheckbox = exercise.querySelector('.main-exercise-checkbox input[type="checkbox"]');
                    if (mainCheckbox) {
                        mainCheckbox.addEventListener('change', () => {
                            updateProgressBar(view);
                        });
                    }

                    // Event listener to open exercise detail popup
                    // Attach to the entire exercise div but exclude clicks on the checkbox itself
                    exercise.addEventListener('click', (event) => {
                        // Check if the clicked element or its parent is the checkbox container
                        if (event.target.closest('.main-exercise-checkbox')) {
                            return; // Do nothing if checkbox or its label was clicked
                        }

                        // Populate popup with exercise details from data attributes
                        popupExerciseName.textContent = exercise.dataset.exerciseName;
                        popupExercisePeso.textContent = exercise.dataset.exercisePeso;
                        popupExerciseSeriesReps.textContent = exercise.dataset.exerciseSeriesReps;
                        popupExerciseDica.textContent = exercise.dataset.exerciseDica;
                        popupExerciseImage.src = exercise.dataset.exerciseImage;

                        exerciseDetailPopup.style.display = 'flex'; // Show exercise detail popup
                    });
                });
            });

            // Close exercise detail popup event listener
            exercisePopupCloseButton.addEventListener('click', () => {
                exerciseDetailPopup.style.display = 'none'; // Hide exercise detail popup
            });

            // Close workout complete popup event listener
            workoutCompletePopupCloseButton.addEventListener('click', () => {
                workoutCompletePopup.style.display = 'none'; // Hide the workout completion popup
            });

            // Initialize progress bars on page load for all detail views (in case they become visible later)
            detailViews.forEach(view => {
                updateProgressBar(view);
            });
        });
    </script>
</body>
</html>
